<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Hostel Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                }
            },
            fontFamily: {
                sans: ["Inter", "system-ui", "sans-serif"],
            }
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <style>
        :root {
            --background: hsl(210 40% 98%);
            --foreground: hsl(210 40% 8%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(210 40% 8%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(210 40% 8%);
            --primary: hsl(210 100% 50%);
            --primary-foreground: hsl(0 0% 100%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(210 40% 8%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(210 40% 45%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(210 40% 8%);
            --destructive: hsl(0 84% 60%);
            --destructive-foreground: hsl(0 0% 100%);
            --border: hsl(210 40% 90%);
            --input: hsl(210 40% 96%);
            --ring: hsl(210 100% 50%);
            --radius: 0.5rem;
        }
        
        .form-group {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .floating-label input,
        .floating-label select {
            width: 100%;
            padding: 1rem 0.75rem 0.5rem 0.75rem;
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) - 2px);
            background-color: hsl(var(--background));
            font-size: 1rem;
            transition: all 0.2s ease;
        }
        
        .floating-label label {
            position: absolute;
            left: 0.75rem;
            top: 1rem;
            color: hsl(var(--muted-foreground));
            font-size: 1rem;
            transition: all 0.2s ease;
            pointer-events: none;
            background-color: hsl(var(--background));
            padding: 0 0.25rem;
        }
        
        .floating-label input:focus,
        .floating-label select:focus {
            outline: none;
            border-color: hsl(var(--ring));
            box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
        }
        
        .floating-label input:focus + label,
        .floating-label input:not(:placeholder-shown) + label,
        .floating-label select:focus + label,
        .floating-label select:not([value=""]) + label {
            top: -0.5rem;
            font-size: 0.75rem;
            color: hsl(var(--ring));
        }
        
        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }
        
        .btn-primary:hover {
            background-color: hsl(210 100% 45%);
        }
        
        .btn-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }
        
        .btn-secondary:hover {
            background-color: hsl(210 40% 90%);
        }
        
        .toast {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
    </style>
</head>
<body class="bg-background text-foreground font-sans">
    <!-- Navigation -->
    <nav class="bg-card border-b border-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-building text-primary text-2xl"></i>
                    <h1 class="text-xl font-semibold text-foreground">University Hostel Management</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="showRegistrationForm()" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <i class="fas fa-user-plus mr-2"></i>Register Student
                    </button>
                    <button onclick="showAdminDashboard()" class="btn-primary px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <i class="fas fa-cog mr-2"></i>Admin Dashboard
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- @COMPONENT: RegistrationForm -->
        <div id="registrationSection" class="block">
            <div class="max-w-3xl mx-auto">
                <div class="bg-card rounded-lg shadow-lg border border-border p-8">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-foreground mb-2">Student Registration</h2>
                        <p class="text-muted-foreground">Complete your hostel registration and get your room assignment</p>
                    </div>

                    <form id="registrationForm" data-implementation="Connect to Firebase Firestore for user registration">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Personal Information -->
                            <div class="md:col-span-2">
                                <h3 class="text-lg font-semibold text-foreground mb-4 flex items-center">
                                    <i class="fas fa-user mr-2 text-primary"></i>
                                    Personal Information
                                </h3>
                            </div>
                            
                            <div class="form-group floating-label">
                                <input type="text" id="firstName" name="firstName" placeholder=" " required data-bind="user.firstName">
                                <label for="firstName">First Name</label>
                            </div>
                            
                            <div class="form-group floating-label">
                                <input type="text" id="surname" name="surname" placeholder=" " required data-bind="user.surname">
                                <label for="surname">Surname</label>
                            </div>
                            
                            <div class="form-group floating-label">
                                <input type="text" id="middleName" name="middleName" placeholder=" " data-bind="user.middleName">
                                <label for="middleName">Middle Name (Optional)</label>
                            </div>
                            
                            <div class="form-group floating-label">
                                <input type="date" id="dob" name="dob" placeholder=" " required data-bind="user.dob">
                                <label for="dob">Date of Birth</label>
                            </div>
                            
                            <div class="form-group floating-label">
                                <select id="gender" name="gender" required data-bind="user.gender" data-implementation="Used for room assignment logic">
                                    <option value="">Select Gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                </select>
                                <label for="gender">Gender</label>
                            </div>
                            
                            <div class="form-group floating-label">
                                <input type="tel" id="phone" name="phone" placeholder=" " required data-bind="user.phone">
                                <label for="phone">Phone Number</label>
                            </div>
                            
                            <div class="form-group floating-label md:col-span-2">
                                <input type="email" id="email" name="email" placeholder=" " required data-bind="user.email">
                                <label for="email">Email Address</label>
                            </div>

                            <!-- Location Information -->
                            <div class="md:col-span-2 mt-6">
                                <h3 class="text-lg font-semibold text-foreground mb-4 flex items-center">
                                    <i class="fas fa-map-marker-alt mr-2 text-primary"></i>
                                    Location Information
                                </h3>
                            </div>
                            
                            <div class="form-group floating-label">
                                <select id="stateOfOrigin" name="stateOfOrigin" required data-bind="user.stateOfOrigin">
                                    <option value="">Select State</option>
                                    <option value="Lagos">Lagos</option>
                                    <option value="Abuja">Abuja</option>
                                    <option value="Kano">Kano</option>
                                    <option value="Rivers">Rivers</option>
                                    <option value="Ogun">Ogun</option>
                                    <!-- Add more states as needed -->
                                </select>
                                <label for="stateOfOrigin">State of Origin</label>
                            </div>
                            
                            <div class="form-group floating-label">
                                <input type="text" id="lga" name="lga" placeholder=" " required data-bind="user.lga">
                                <label for="lga">Local Government Area</label>
                            </div>
                        </div>

                        <div class="mt-8 flex justify-center">
                            <button type="submit" class="btn-primary px-8 py-3 rounded-md text-lg font-medium transition-colors flex items-center" data-event="click:handleRegistration">
                                <i class="fas fa-save mr-2"></i>
                                Register & Get Room Assignment
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: RegistrationForm -->

        <!-- @COMPONENT: SuccessModal -->
        <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" data-mock="true">
            <div class="bg-card rounded-lg shadow-xl border border-border p-8 max-w-md mx-4">
                <div class="text-center">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-check text-green-600 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-foreground mb-2">Registration Successful!</h3>
                    <p class="text-muted-foreground mb-6">Your room has been assigned. Download your details below.</p>
                    
                    <div class="bg-muted rounded-lg p-4 mb-6 text-left">
                        <div class="space-y-2">
                            <p><span class="font-medium">Name:</span> <span data-bind="registeredUser.fullName" data-mock="true">John Michael Doe</span></p>
                            <p><span class="font-medium">Room:</span> <span data-bind="registeredUser.roomNumber" data-mock="true">A101</span></p>
                            <p><span class="font-medium">Tag:</span> <span data-bind="registeredUser.tagNumber" data-mock="true">TAG-001</span></p>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button onclick="downloadDetails()" class="btn-primary px-4 py-2 rounded-md text-sm font-medium flex-1" data-event="click:downloadUserDetails">
                            <i class="fas fa-download mr-2"></i>Download PDF
                        </button>
                        <button onclick="closeSuccessModal()" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium flex-1">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: SuccessModal -->

        <!-- @COMPONENT: AdminDashboard -->
        <div id="adminSection" class="hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-foreground mb-2">Admin Dashboard</h2>
                <p class="text-muted-foreground">Manage student registrations, rooms, and tag assignments</p>
            </div>

            <!-- Dashboard Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-muted-foreground">Total Students</p>
                            <p class="text-2xl font-bold text-foreground" data-bind="stats.totalStudents" data-mock="true">247</p>
                        </div>
                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-users text-blue-600"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-muted-foreground">Available Rooms</p>
                            <p class="text-2xl font-bold text-foreground" data-bind="stats.availableRooms" data-mock="true">43</p>
                        </div>
                        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-bed text-green-600"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-muted-foreground">Assigned Tags</p>
                            <p class="text-2xl font-bold text-foreground" data-bind="stats.assignedTags" data-mock="true">247</p>
                        </div>
                        <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-tag text-orange-600"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-muted-foreground">Available Tags</p>
                            <p class="text-2xl font-bold text-foreground" data-bind="stats.availableTags" data-mock="true">153</p>
                        </div>
                        <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-tags text-purple-600"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Management Actions -->
            <div class="bg-card rounded-lg shadow-sm border border-border p-6 mb-8">
                <h3 class="text-lg font-semibold text-foreground mb-4">Management Actions</h3>
                <div class="flex flex-wrap gap-4">
                    <button onclick="showUploadModal('rooms')" class="btn-primary px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <i class="fas fa-upload mr-2"></i>Upload Rooms (Excel)
                    </button>
                    <button onclick="showUploadModal('tags')" class="btn-primary px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <i class="fas fa-upload mr-2"></i>Upload Tags (Excel)
                    </button>
                    <button onclick="exportStudents()" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <i class="fas fa-download mr-2"></i>Export Students
                    </button>
                    <button onclick="generateReports()" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium transition-colors">
                        <i class="fas fa-chart-bar mr-2"></i>Generate Reports
                    </button>
                </div>
            </div>

            <!-- Filters and Search -->
            <div class="bg-card rounded-lg shadow-sm border border-border p-6 mb-6">
                <h3 class="text-lg font-semibold text-foreground mb-4">Filters & Search</h3>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="form-group floating-label">
                        <input type="text" id="searchInput" placeholder=" " data-implementation="Real-time search through student records">
                        <label for="searchInput">Search Students</label>
                    </div>
                    <div class="form-group floating-label">
                        <select id="genderFilter" data-implementation="Filter students by gender">
                            <option value="">All Genders</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                        <label for="genderFilter">Filter by Gender</label>
                    </div>
                    <div class="form-group floating-label">
                        <select id="wingFilter" data-implementation="Filter by room wing">
                            <option value="">All Wings</option>
                            <option value="A">Wing A</option>
                            <option value="B">Wing B</option>
                            <option value="C">Wing C</option>
                        </select>
                        <label for="wingFilter">Filter by Wing</label>
                    </div>
                    <div class="form-group floating-label">
                        <select id="stateFilter" data-implementation="Filter by state of origin">
                            <option value="">All States</option>
                            <option value="Lagos">Lagos</option>
                            <option value="Abuja">Abuja</option>
                            <option value="Kano">Kano</option>
                        </select>
                        <label for="stateFilter">Filter by State</label>
                    </div>
                </div>
            </div>

            <!-- Students Table -->
            <div class="bg-card rounded-lg shadow-sm border border-border overflow-hidden">
                <div class="px-6 py-4 border-b border-border">
                    <h3 class="text-lg font-semibold text-foreground">Registered Students</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full" data-implementation="Real-time table connected to Firestore with CRUD operations">
                        <thead class="bg-muted">
                            <tr>
                                <!-- @MAP: tableHeaders.map(header => ( -->
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-accent" data-mock="true">
                                    Full Name <i class="fas fa-sort ml-1"></i>
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-accent" data-mock="true">
                                    Gender <i class="fas fa-sort ml-1"></i>
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-accent" data-mock="true">
                                    Room <i class="fas fa-sort ml-1"></i>
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-accent" data-mock="true">
                                    Tag <i class="fas fa-sort ml-1"></i>
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-accent" data-mock="true">
                                    State <i class="fas fa-sort ml-1"></i>
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-accent" data-mock="true">
                                    Phone <i class="fas fa-sort ml-1"></i>
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider" data-mock="true">
                                    Actions
                                </th>
                                <!-- @END_MAP )) -->
                            </tr>
                        </thead>
                        <tbody class="bg-card divide-y divide-border">
                            <!-- @MAP: students.map(student => ( -->
                            <tr class="hover:bg-accent transition-colors" data-mock="true">
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-medium">
                                            JD
                                        </div>
                                        <div class="ml-4">
                                            <div class="text-sm font-medium text-foreground" data-bind="student.fullName">John Michael Doe</div>
                                            <div class="text-sm text-muted-foreground" data-bind="student.email">john@example.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800" data-bind="student.gender">Male</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="student.roomNumber">A101</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="student.tagNumber">TAG-001</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="student.stateOfOrigin">Lagos</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="student.phone">08012345678</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <button onclick="editStudent('student-id')" class="text-primary hover:text-blue-900 mr-3" data-event="click:editStudent">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button onclick="deleteStudent('student-id')" class="text-destructive hover:text-red-900" data-event="click:deleteStudent">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr class="hover:bg-accent transition-colors" data-mock="true">
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center text-white font-medium">
                                            JS
                                        </div>
                                        <div class="ml-4">
                                            <div class="text-sm font-medium text-foreground">Jane Smith</div>
                                            <div class="text-sm text-muted-foreground">jane@example.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800">Female</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">C201</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">TAG-002</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">Abuja</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">08087654321</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <button onclick="editStudent('student-id-2')" class="text-primary hover:text-blue-900 mr-3">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button onclick="deleteStudent('student-id-2')" class="text-destructive hover:text-red-900">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr class="hover:bg-accent transition-colors" data-mock="true">
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-medium">
                                            AB
                                        </div>
                                        <div class="ml-4">
                                            <div class="text-sm font-medium text-foreground">Ahmed Bello</div>
                                            <div class="text-sm text-muted-foreground">ahmed@example.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">Male</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">B105</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">TAG-003</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">Kano</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">08098765432</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <button onclick="editStudent('student-id-3')" class="text-primary hover:text-blue-900 mr-3">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button onclick="deleteStudent('student-id-3')" class="text-destructive hover:text-red-900">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <!-- @END_MAP )) -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination -->
                <div class="px-6 py-3 bg-muted border-t border-border flex items-center justify-between">
                    <div class="text-sm text-muted-foreground">
                        Showing <span data-bind="pagination.start" data-mock="true">1</span> to <span data-bind="pagination.end" data-mock="true">10</span> of <span data-bind="pagination.total" data-mock="true">247</span> results
                    </div>
                    <div class="flex space-x-2">
                        <button class="px-3 py-1 border border-border rounded text-sm hover:bg-accent transition-colors" data-implementation="Previous page pagination">
                            Previous
                        </button>
                        <button class="px-3 py-1 bg-primary text-primary-foreground rounded text-sm">1</button>
                        <button class="px-3 py-1 border border-border rounded text-sm hover:bg-accent transition-colors">2</button>
                        <button class="px-3 py-1 border border-border rounded text-sm hover:bg-accent transition-colors">3</button>
                        <button class="px-3 py-1 border border-border rounded text-sm hover:bg-accent transition-colors" data-implementation="Next page pagination">
                            Next
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: AdminDashboard -->

        <!-- @COMPONENT: UploadModal -->
        <div id="uploadModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" data-implementation="Excel upload functionality for rooms and tags">
            <div class="bg-card rounded-lg shadow-xl border border-border p-8 max-w-md mx-4">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-foreground">Upload Excel File</h3>
                    <button onclick="closeUploadModal()" class="text-muted-foreground hover:text-foreground">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="border-2 border-dashed border-border rounded-lg p-8 text-center mb-6">
                    <i class="fas fa-cloud-upload-alt text-4xl text-muted-foreground mb-4"></i>
                    <p class="text-muted-foreground mb-2">Drag and drop your Excel file here</p>
                    <p class="text-sm text-muted-foreground">or</p>
                    <input type="file" id="excelFileInput" accept=".xlsx,.xls" class="hidden" data-implementation="Process Excel file using XLSX library">
                    <button onclick="document.getElementById('excelFileInput').click()" class="btn-primary px-4 py-2 rounded-md text-sm font-medium mt-2">
                        Browse Files
                    </button>
                </div>
                
                <div class="bg-muted rounded-lg p-4 mb-6">
                    <h4 class="font-medium text-foreground mb-2">Expected Format:</h4>
                    <div id="roomsFormat" class="text-sm text-muted-foreground hidden">
                        <p>Columns: Wing, Room Number, Gender, Total Beds</p>
                        <p>Example: A, A101, Male, 4</p>
                    </div>
                    <div id="tagsFormat" class="text-sm text-muted-foreground hidden">
                        <p>Columns: Tag Number</p>
                        <p>Example: TAG-001</p>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button onclick="processExcelUpload()" class="btn-primary px-4 py-2 rounded-md text-sm font-medium flex-1" data-event="click:processExcelFile">
                        <i class="fas fa-upload mr-2"></i>Upload & Process
                    </button>
                    <button onclick="closeUploadModal()" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium flex-1">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: UploadModal -->

        <!-- @COMPONENT: EditModal -->
        <div id="editModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" data-implementation="Edit student information modal">
            <div class="bg-card rounded-lg shadow-xl border border-border p-8 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-foreground">Edit Student Information</h3>
                    <button onclick="closeEditModal()" class="text-muted-foreground hover:text-foreground">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <form id="editStudentForm" data-implementation="Update student data in Firestore">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="form-group floating-label">
                            <input type="text" id="editFirstName" placeholder=" " required>
                            <label for="editFirstName">First Name</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="text" id="editSurname" placeholder=" " required>
                            <label for="editSurname">Surname</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="text" id="editMiddleName" placeholder=" ">
                            <label for="editMiddleName">Middle Name</label>
                        </div>
                        <div class="form-group floating-label">
                            <select id="editGender" required>
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                            <label for="editGender">Gender</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="tel" id="editPhone" placeholder=" " required>
                            <label for="editPhone">Phone Number</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="email" id="editEmail" placeholder=" " required>
                            <label for="editEmail">Email Address</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="text" id="editRoom" placeholder=" " required>
                            <label for="editRoom">Room Number</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="text" id="editTag" placeholder=" " required>
                            <label for="editTag">Tag Number</label>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 mt-6">
                        <button type="submit" class="btn-primary px-4 py-2 rounded-md text-sm font-medium flex-1" data-event="click:updateStudent">
                            <i class="fas fa-save mr-2"></i>Save Changes
                        </button>
                        <button type="button" onclick="closeEditModal()" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium flex-1">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- @END_COMPONENT: EditModal -->
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast bg-card border border-border rounded-lg shadow-lg p-4 min-w-[300px]">
        <div class="flex items-center">
            <div id="toastIcon" class="w-8 h-8 rounded-full flex items-center justify-center mr-3">
                <i class="fas fa-check text-white"></i>
            </div>
            <div>
                <p id="toastTitle" class="font-medium text-foreground"></p>
                <p id="toastMessage" class="text-sm text-muted-foreground"></p>
            </div>
        </div>
    </div>

    <script>
        // TODO: Import and initialize Firebase
        // import { initializeApp } from "firebase/app";
        // import { getFirestore, collection, addDoc, getDocs, updateDoc, deleteDoc } from "firebase/firestore";
        
        // Mock data for demonstration
        let currentUploadType = '';
        let registeredUser = null;

        // Navigation functions
        function showRegistrationForm() {
            document.getElementById('registrationSection').classList.remove('hidden');
            document.getElementById('registrationSection').classList.add('block');
            document.getElementById('adminSection').classList.add('hidden');
        }

        function showAdminDashboard() {
            document.getElementById('registrationSection').classList.add('hidden');
            document.getElementById('adminSection').classList.remove('hidden');
        }

        // Registration form handler
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // TODO: Implement Firebase registration logic
            // 1. Validate form data
            // 2. Query available rooms by gender
            // 3. Assign room and tag
            // 4. Save to Firestore
            
            // Simulate registration process
            setTimeout(() => {
                registeredUser = {
                    fullName: "John Michael Doe",
                    roomNumber: "A101", 
                    tagNumber: "TAG-001"
                };
                
                showToast('Success', 'Registration completed successfully!', 'success');
                document.getElementById('successModal').classList.remove('hidden');
                document.getElementById('successModal').classList.add('flex');
            }, 1000);
        });

        // Success modal functions
        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            document.getElementById('successModal').classList.remove('flex');
            document.getElementById('registrationForm').reset();
        }

        // Download PDF function
        function downloadDetails() {
            // TODO: Implement PDF generation with jsPDF
            if (window.jsPDF && registeredUser) {
                const { jsPDF } = window.jsPDF;
                const doc = new jsPDF();
                
                doc.setFontSize(20);
                doc.text('University Hostel Registration', 10, 20);
                
                doc.setFontSize(12);
                doc.text(`Name: ${registeredUser.fullName}`, 10, 40);
                doc.text(`Room Number: ${registeredUser.roomNumber}`, 10, 50);
                doc.text(`Tag Number: ${registeredUser.tagNumber}`, 10, 60);
                doc.text(`Registration Date: ${new Date().toLocaleDateString()}`, 10, 70);
                
                doc.save(`${registeredUser.fullName.replace(/\s+/g, '_')}_hostel_details.pdf`);
                showToast('Success', 'PDF downloaded successfully!', 'success');
            }
        }

        // Upload modal functions
        function showUploadModal(type) {
            currentUploadType = type;
            document.getElementById('uploadModal').classList.remove('hidden');
            document.getElementById('uploadModal').classList.add('flex');
            
            // Show appropriate format
            document.getElementById('roomsFormat').classList.toggle('hidden', type !== 'rooms');
            document.getElementById('tagsFormat').classList.toggle('hidden', type !== 'tags');
        }

        function closeUploadModal() {
            document.getElementById('uploadModal').classList.add('hidden');
            document.getElementById('uploadModal').classList.remove('flex');
            document.getElementById('excelFileInput').value = '';
        }

        function processExcelUpload() {
            const fileInput = document.getElementById('excelFileInput');
            const file = fileInput.files[0];
            
            if (!file) {
                showToast('Error', 'Please select a file to upload', 'error');
                return;
            }

            // TODO: Implement Excel processing with XLSX library
            // 1. Read Excel file
            // 2. Parse data according to expected format
            // 3. Validate data structure
            // 4. Save to appropriate Firestore collection
            
            // Simulate upload process
            setTimeout(() => {
                showToast('Success', `${currentUploadType} data uploaded successfully!`, 'success');
                closeUploadModal();
            }, 2000);
        }

        // Student management functions
        function editStudent(studentId) {
            // TODO: Fetch student data from Firestore and populate edit form
            document.getElementById('editModal').classList.remove('hidden');
            document.getElementById('editModal').classList.add('flex');
        }

        function closeEditModal() {
            document.getElementById('editModal').classList.add('hidden');
            document.getElementById('editModal').classList.remove('flex');
        }

        function deleteStudent(studentId) {
            if (confirm('Are you sure you want to delete this student?')) {
                // TODO: Implement delete from Firestore
                showToast('Success', 'Student deleted successfully!', 'success');
            }
        }

        // Export and report functions
        function exportStudents() {
            // TODO: Implement export to Excel functionality
            showToast('Info', 'Export functionality will be implemented', 'info');
        }

        function generateReports() {
            // TODO: Implement report generation
            showToast('Info', 'Report generation will be implemented', 'info');
        }

        // Toast notification function
        function showToast(title, message, type) {
            const toast = document.getElementById('toast');
            const toastIcon = document.getElementById('toastIcon');
            const toastTitle = document.getElementById('toastTitle');
            const toastMessage = document.getElementById('toastMessage');
            
            // Set content
            toastTitle.textContent = title;
            toastMessage.textContent = message;
            
            // Set icon and color based on type
            toastIcon.className = 'w-8 h-8 rounded-full flex items-center justify-center mr-3';
            
            switch (type) {
                case 'success':
                    toastIcon.classList.add('bg-green-500');
                    toastIcon.innerHTML = '<i class="fas fa-check text-white"></i>';
                    break;
                case 'error':
                    toastIcon.classList.add('bg-red-500');
                    toastIcon.innerHTML = '<i class="fas fa-times text-white"></i>';
                    break;
                case 'info':
                    toastIcon.classList.add('bg-blue-500');
                    toastIcon.innerHTML = '<i class="fas fa-info text-white"></i>';
                    break;
                default:
                    toastIcon.classList.add('bg-gray-500');
                    toastIcon.innerHTML = '<i class="fas fa-bell text-white"></i>';
            }
            
            // Show toast
            toast.classList.add('show');
            
            // Hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize page
        (function() {
            // Show registration form by default
            showRegistrationForm();
            
            // TODO: Initialize Firebase connection
            // TODO: Set up real-time listeners for admin dashboard
            // TODO: Implement search and filter functionality
        })();
    </script>
</body>
</html>